{"version":3,"file":"static/webpack/static/development/pages/index.js.261075a5b348d9e584e9.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React from 'react';\nimport Login from '../component/Login'\nimport Head from 'next/head';\nimport fetch from 'isomorphic-unfetch'\nimport { VERIFY_USER } from '../Events'\nimport io from 'socket.io-client'\n\nexport default class Index extends React.Component {\n\n  constructor(props){\n\n    super(props)\n    this.state = {\n      inRoom : false\n    }\n  }\n\n  static async getInitialProps(ctx) {\n    const res = await fetch('http://localhost:3000/getUser', {\n      headers: {\n        cookie: ctx.req.headers.cookie,\n      },\n    });\n \n    const user = await res.text()\n    console.log(res)\n    return { user : user}\n  }\n\n  enter(evt){\n    evt.preventDefault()\n    const { socket } = this.props\n    io.emit(VERIFY_USER, this.props.user)\n    inRoom = true\n  }\n  \n\n  render(){\n\n    const Button = <div onClick={this.enter}>\n      Enter Room\n    </div>\n    return (\n      <>\n      { this.state.inRoom ? \"egg\" : (<div>\n        <Head>\n        <title>Example of the Authorization Code flow with Spotify</title>\n        <link rel=\"stylesheet\" href=\"//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css\"/>\n      </Head>\n      {this.props.user ? Button : <Login/> }\n      </div>)\n      }\n      </>\n\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAEA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AADA;AAHA;AAMA;AACA;;;AAaA;AACA;AADA;AAGA;AACA;AACA;;;AAGA;AAEA;AAAA;AAAA;AACA;AAEA;AAKA;AAAA;AAAA;AAQA;;;;;;AAtCA;;;;;;;AACA;AACA;AACA;AADA;AADA;AACA;;AADA;;AAMA;AACA;;AADA;AACA;AACA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AApBA;AACA;;;;;A","sourceRoot":""}