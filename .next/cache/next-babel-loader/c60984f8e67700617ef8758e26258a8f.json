{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\n\nvar SearchPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchPage, _Component);\n\n  function SearchPage(props) {\n    var _this;\n\n    _classCallCheck(this, SearchPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchPage).call(this, props));\n    _this.state = {\n      value: '',\n      results: []\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(SearchPage, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        value: event.target.value\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function () {\n      var _handleSubmit = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(event) {\n        var token, url, results;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                alert('An essay was submitted: ' + this.state.value);\n                event.preventDefault();\n                token = this.props.user;\n                url = 'https://api.spotify.com/v1/search/q=name:' + this.state.value + \"&type=track\";\n                _context.next = 6;\n                return fetch(url, {\n                  headers: {\n                    'Authorization': 'Bearer ' + token\n                  }\n                });\n\n              case 6:\n                results = _context.sent;\n                console.log(results);\n                _context.next = 10;\n                return results.json();\n\n              case 10:\n                results = _context.sent;\n                this.setState({\n                  results: results.body\n                });\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function handleSubmit(_x) {\n        return _handleSubmit.apply(this, arguments);\n      }\n\n      return handleSubmit;\n    }()\n  }, {\n    key: \"request\",\n    value: function request() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      var results = this.state.results.map(function (x) {\n        return __jsx(\"div\", null, x);\n      });\n      return __jsx(\"div\", {\n        className: \"jsx-1552033435\"\n      }, __jsx(\"a\", {\n        href: \"/\",\n        className: \"jsx-1552033435\"\n      }, \"Back\"), __jsx(\"button\", {\n        onClick: this.props.addSong,\n        className: \"jsx-1552033435\"\n      }, \"ADD SONG\"), __jsx(\"h1\", {\n        className: \"jsx-1552033435\"\n      }, this.props.addSong), __jsx(\"form\", {\n        onSubmit: this.handleSubmit,\n        className: \"jsx-1552033435\"\n      }, __jsx(\"label\", {\n        className: \"jsx-1552033435\"\n      }, \"Essay:\", __jsx(\"textarea\", {\n        value: this.state.value,\n        onChange: this.handleChange,\n        className: \"jsx-1552033435\"\n      })), __jsx(\"input\", {\n        type: \"submit\",\n        value: \"Submit\",\n        onClick: this.handleSubmit,\n        className: \"jsx-1552033435\"\n      })), __jsx(\"div\", {\n        className: \"jsx-1552033435\" + \" \" + 'flexy'\n      }, results), __jsx(_JSXStyle, {\n        id: \"1552033435\"\n      }, \".flexy.jsx-1552033435{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbm5pZXh1L25leHQtbXVsdGlmeS9jb21wb25lbnQvU2VhcmNoUGFnZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF5RHNCLEFBSVUsMEVBQUMiLCJmaWxlIjoiL1VzZXJzL2FubmlleHUvbmV4dC1tdWx0aWZ5L2NvbXBvbmVudC9TZWFyY2hQYWdlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7Q29tcG9uZW50fSBmcm9tICdyZWFjdCc7XG5cbmNsYXNzIFNlYXJjaFBhZ2UgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgICAgcmVzdWx0czogW11cbiAgICAgICAgfTtcbiAgICBcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZVN1Ym1pdCA9IHRoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcyk7XG4gICAgICB9XG4gICAgXG4gICAgICBoYW5kbGVDaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7dmFsdWU6IGV2ZW50LnRhcmdldC52YWx1ZX0pO1xuICAgICAgfVxuICAgIFxuICAgICAgYXN5bmMgaGFuZGxlU3VibWl0KGV2ZW50KSB7XG4gICAgICAgIGFsZXJ0KCdBbiBlc3NheSB3YXMgc3VibWl0dGVkOiAnICsgdGhpcy5zdGF0ZS52YWx1ZSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCB0b2tlbiA9ICB0aGlzLnByb3BzLnVzZXJcbiAgICAgICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vYXBpLnNwb3RpZnkuY29tL3YxL3NlYXJjaC9xPW5hbWU6JyArIHRoaXMuc3RhdGUudmFsdWUgKyBcIiZ0eXBlPXRyYWNrXCJcbiAgICAgICAgbGV0IHJlc3VsdHMgPSBhd2FpdCBmZXRjaCAodXJsLCB7XG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcrdG9rZW5cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdHMpXG4gICAgICAgIHJlc3VsdHMgPSBhd2FpdCByZXN1bHRzLmpzb24oKVxuICAgICAgICB0aGlzLnNldFN0YXRlKHtyZXN1bHRzIDogcmVzdWx0cy5ib2R5fSlcbiAgICAgIH1cblxuICAgICAgcmVxdWVzdCgpIHtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgcmVuZGVyKCkge1xuICAgICAgbGV0IHJlc3VsdHMgPSB0aGlzLnN0YXRlLnJlc3VsdHMubWFwKCh4KT0+e1xuICAgICAgICByZXR1cm4gPGRpdj5cbiAgICAgICAgICB7eH1cbiAgICAgICAgPC9kaXY+XG4gICAgICB9KVxuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxhIGhyZWY9Jy8nPkJhY2s8L2E+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLnByb3BzLmFkZFNvbmd9PkFERCBTT05HPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGgxPnt0aGlzLnByb3BzLmFkZFNvbmd9PC9oMT5cbiAgICAgICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgRXNzYXk6XG4gICAgICAgICAgPHRleHRhcmVhIHZhbHVlPXt0aGlzLnN0YXRlLnZhbHVlfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9IC8+XG4gICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgdmFsdWU9XCJTdWJtaXRcIiBvbkNsaWNrPXt0aGlzLmhhbmRsZVN1Ym1pdH0vPlxuICAgICAgPC9mb3JtPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4eSc+XG4gICAgICAgICAgICAgIHtyZXN1bHRzfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAuZmxleHkge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleFxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBcbiAgICAgICAgICBgfTwvc3R5bGU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH1cbn1cblxuXG5cbmV4cG9ydCBkZWZhdWx0IFNlYXJjaFBhZ2U7Il19 */\\n/*@ sourceURL=/Users/anniexu/next-multify/component/SearchPage.js */\"));\n    }\n  }]);\n\n  return SearchPage;\n}(Component);\n\nexport default SearchPage;","map":{"version":3,"sources":["/Users/anniexu/next-multify/component/SearchPage.js"],"names":["React","Component","SearchPage","props","state","value","results","handleChange","bind","handleSubmit","event","setState","target","alert","preventDefault","token","user","url","fetch","headers","console","log","json","body","map","x","addSong"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;;IAEMC,U;;;;;AACF,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,oFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXC,MAAAA,OAAO,EAAE;AAFE,KAAb;AAKA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB;AARe;AAShB;;;;iCAEYE,K,EAAO;AAClB,WAAKC,QAAL,CAAc;AAACN,QAAAA,KAAK,EAAEK,KAAK,CAACE,MAAN,CAAaP;AAArB,OAAd;AACD;;;;;;gDAEkBK,K;;;;;;AACjBG,gBAAAA,KAAK,CAAC,6BAA6B,KAAKT,KAAL,CAAWC,KAAzC,CAAL;AACAK,gBAAAA,KAAK,CAACI,cAAN;AACIC,gBAAAA,K,GAAS,KAAKZ,KAAL,CAAWa,I;AAClBC,gBAAAA,G,GAAM,8CAA8C,KAAKb,KAAL,CAAWC,KAAzD,GAAiE,a;;uBACzDa,KAAK,CAAED,GAAF,EAAO;AAC9BE,kBAAAA,OAAO,EAAE;AACP,qCAAiB,YAAUJ;AADpB;AADqB,iBAAP,C;;;AAArBT,gBAAAA,O;AAKJc,gBAAAA,OAAO,CAACC,GAAR,CAAYf,OAAZ;;uBACgBA,OAAO,CAACgB,IAAR,E;;;AAAhBhB,gBAAAA,O;AACA,qBAAKK,QAAL,CAAc;AAACL,kBAAAA,OAAO,EAAGA,OAAO,CAACiB;AAAnB,iBAAd;;;;;;;;;;;;;;;;;;8BAGQ,CACC;;;6BAEJ;AACP,UAAIjB,OAAO,GAAG,KAAKF,KAAL,CAAWE,OAAX,CAAmBkB,GAAnB,CAAuB,UAACC,CAAD,EAAK;AACxC,eAAO,mBACJA,CADI,CAAP;AAGD,OAJa,CAAd;AAKE,aACI;AAAA;AAAA,SACI;AAAG,QAAA,IAAI,EAAC,GAAR;AAAA;AAAA,gBADJ,EAEI;AAAQ,QAAA,OAAO,EAAE,KAAKtB,KAAL,CAAWuB,OAA5B;AAAA;AAAA,oBAFJ,EAGI;AAAA;AAAA,SAAK,KAAKvB,KAAL,CAAWuB,OAAhB,CAHJ,EAII;AAAM,QAAA,QAAQ,EAAE,KAAKjB,YAArB;AAAA;AAAA,SACR;AAAA;AAAA,mBAEE;AAAU,QAAA,KAAK,EAAE,KAAKL,KAAL,CAAWC,KAA5B;AAAmC,QAAA,QAAQ,EAAE,KAAKE,YAAlD;AAAA;AAAA,QAFF,CADQ,EAKR;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,EAAC,QAA3B;AAAoC,QAAA,OAAO,EAAE,KAAKE,YAAlD;AAAA;AAAA,QALQ,CAJJ,EAWF;AAAA,4CAAe;AAAf,SACKH,OADL,CAXE;AAAA;AAAA,6/FADJ;AAwBH;;;;EAhEoBL,S;;AAqEzB,eAAeC,UAAf","sourcesContent":["import React, {Component} from 'react';\n\nclass SearchPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n          value: '',\n          results: []\n        };\n    \n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n      }\n    \n      handleChange(event) {\n        this.setState({value: event.target.value});\n      }\n    \n      async handleSubmit(event) {\n        alert('An essay was submitted: ' + this.state.value);\n        event.preventDefault();\n        let token =  this.props.user\n        const url = 'https://api.spotify.com/v1/search/q=name:' + this.state.value + \"&type=track\"\n        let results = await fetch (url, {\n          headers: {\n            'Authorization': 'Bearer '+token\n          }\n        })\n        console.log(results)\n        results = await results.json()\n        this.setState({results : results.body})\n      }\n\n      request() {\n                }\n    \n    render() {\n      let results = this.state.results.map((x)=>{\n        return <div>\n          {x}\n        </div>\n      })\n        return(\n            <div>\n                <a href='/'>Back</a>\n                <button onClick={this.props.addSong}>ADD SONG</button>\n                <h1>{this.props.addSong}</h1>\n                <form onSubmit={this.handleSubmit}>\n        <label>\n          Essay:\n          <textarea value={this.state.value} onChange={this.handleChange} />\n        </label>\n        <input type=\"submit\" value=\"Submit\" onClick={this.handleSubmit}/>\n      </form>\n          <div className='flexy'>\n              {results}\n          </div>\n          <style jsx>{`\n          .flexy {\n            display: flex\n          }\n          \n          \n          `}</style>\n            </div>\n        )\n    }\n}\n\n\n\nexport default SearchPage;"]},"metadata":{},"sourceType":"module"}